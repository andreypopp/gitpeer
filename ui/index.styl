@import url('http://fonts.googleapis.com/css?family=Source+Sans+Pro:700,300')

$input-include-glowing-effect = false

@import "/a/font-awesome/css/font-awesome.css"
@import "type-utils";
@import "foundation/variables"
@import "foundation/components/global"
@import "foundation/components/type"
@import "nib"

app-width = 660px
bg = #f6f6f6
color = #444
hlcolor = lighten(bg, 70%)
dkcolor = lighten(color, 70%)
form-spacing = emCalc(16px)

input[type="text"], textarea
  display: block
  height: emCalc(13px) + (form-spacing * 1.5)
  margin: 0 0 form-spacing 0
  padding: (form-spacing / 2)
  box-sizing: border-box
  font-size: 90%
  width: 100%
  background: bg
  border: none
  border-bottom: 1px solid darken(bg, 5%)
  box-shadow: none
  font-family: 'Source Sans Pro', sans-serif
  &:focus
    outline: none
    border-bottom: 1px solid darken(bg, 5%)
    box-shadow: none
    background: hlcolor

body
  font-family: 'Source Sans Pro', sans-serif
  font-size: 100%
  background: bg
  color: color

h1, h2, h3, h4, h5, h6
  font-family: 'Source Sans Pro', sans-serif

shadow-control()
  font-weight: bold
  color: dkcolor
  &:hover
    color: color
  &.active
    color: color
  i
    font-size: 90%

monospace()
  font-family: 'Menlo', 'Monaco', monospace
  color: color
  font-weight: normal

code
  monospace()

pre
  monospace()
  margin: 0

ul, li
  list-style: square
  margin: 0

small()
  font-size: 75%
  color: #888
  a
    color: #888
    &:hover
      color: #000

.Controls
  a
    user-select: none
    margin-right: 14px
    shadow-control()
  i
    display: inline-block
    width: 1.5em
    text-align: center

.AuthStatus
  font-size: 80%

  .meta
    display: table-cell
    height: 40px
    vertical-align: middle
    padding: 0 10px
  img
    margin-left: 10px
    height: 40px
    width: 40px

.App

  width: app-width
  margin: 0 auto
  margin-bottom: 5em
  position: relative

  .AuthStatus
    position: absolute
    top: 0
    right: 0

  header
    display: inline-block
    position: relative
    padding: 1.5em 0

    font-weight: bold
    cursor: pointer

    .name
      color: color
      font-size: 170%
      margin-right: 0.5em
      text-decoration: none

    .Navigation
      display: inline-block

.Navigation
  a
    shadow-control()
    margin-right: 0.5em

.ContentsView
  .CommitLine
    margin: 1em 0em


.DirectoryContentsView
  ul, li
    padding: 0
    list-style: none
    font-size: 90%
  li
    margin-bottom: 0px
    i
      display: inline-block
      width: 1em
      margin-right: 0.7em
      color: dkcolor
    a
      padding: 1px 5px
      display: block
      monospace()
      color: color
      text-decoration: none
      &:hover
        background: hlcolor

.BlobView
  font-size: 80%
  background: hlcolor
  color: color
  padding: 1em
  overflow-y: hidden
  overflow-x: auto
  pre
    display: table
    line-height: 1.3em

.Breadcrumb
  monospace()
  font-size: 13px
  padding: 0
  li
    display: inline-block
    a
      padding: 5px
      display: inline-block
      text-align: right
      text-decoration: none
      color: #aaa
  li:hover
    background: hlcolor
  li:after
    color: #aaa
    font-weight: normal
    content: '/'
    padding: 5px
  li:last-child
    a
      color: color
  li:last-child:after, li:first-child:after
    content: ''
    padding: 0

.CommitLine
  display: block
  margin: 0
  user-select: none
  font-size: 90%
  padding: 7px
  clearfix()

  .head
    clearfix()

  .message
    monospace()
    font-size: 80%
    color: darken(dkcolor, 20%)
    margin: 7px
    p
      margin-bottom: 0

  .headline, .author, .time, .sha
    margin-right: 0.5em
  .sha
    monospace()
    font-size: 90%
    color: dkcolor
  .headline, .sha
    float: left
  .author, .time
    font-size: 90%
    color: dkcolor
    float: right

.IssueEditor
  textarea
    min-height: 8em
    resize: none
  form
    margin-bottom: 2em
  .name
    font-size: $h3-font-size
    font-weight: bold
  .controls
    a
      margin-right: 14px
      shadow-control()

.IssueItemView
  clearfix()
  display: block
  font-size: 90%
  cursor: pointer
  padding: 7px
  &:hover
    background: hlcolor
  .name
    float: left
  time
    font-size: 90%
    float: right
    color: dkcolor

.IssueView
  position: relative

  .Controls
    width: 150px
    right: -150px
    position: absolute
    text-align: left
    a
      display: block
    i
      display: inline-block
      width: 1.5em

.NewIssueView
  .Controls
    margin: 1em

.IssuesView
  .meta
    clearfix()

    .Controls
      margin: 1em
      float: left
    .state-selector
      font-size: 80%
      float: right
      a
        shadow-control()
        display: inline-block
        margin-right: 7px

.HistoryView

  .Controls
    font-size: 90%
    margin: 1em
    clearfix()
    .next
      float: right
    .prev
      float: left

  .CommitLine
    background: transparent
    cursor: pointer
    &:hover
      background: hlcolor

  .date
    margin-bottom: 0.5em
    margin-top: 1em
    font-size: 90%
    padding: 15px
    color: dkcolor
    time
      letter-spacing: 0.1em

.DiffView

  .PatchView
    margin-bottom: 1em

  .HunkView
    box-shadow: 0 0 3px dkcolor
    margin-bottom: 1em

    .line-comments
      background: darken(bg, 3%)
      box-shadow: inset 0px 1px 1px dkcolor
      border-bottom: 2px solid bg
      border-top: 1px solid lighten(dkcolor, 20%)

    .CommentView
      padding: 14px
      border-bottom: 1px solid hlcolor
      margin-bottom: 0
      &:first-child
        border-top: none
      &:last-child
        border-bottom: none

    .CommentEditor
      padding: 7px

.PatchView
  & > .meta
    monospace()
    font-size: 90%
    padding: 10px
    color: dkcolor

.HunkView
  overflow-y: hidden
  overflow-x: auto
  .lines
    position: relative
    display: table
    min-width: 100%
  .header pre
    monospace()
    font-size: 80%
    font-weight: normal
    padding: 5px
    color: dkcolor

.SelectedLineRangeView
  .range
    position: relative

  .LineView.selected
    .toolbar, .line-comments
      display: none

  .LineView.selected:last-child
    .toolbar, .line-comments
      display: block


.LineView
  position: relative
  user-select: none

  pre
    padding: 2px
    font-size: 80%

  .line
    position: relative

  .old_lineno, .new_lineno
    font-size: 80%
    display: inline-block
    text-align: center
    width: 2em
    margin-right: 3px

  .toolbar
    display: none
    position: absolute
    right: -25px
    width: 25px
    text-align: right
    bottom: 0px
    cursor: pointer
    a
      color: dkcolor
    a:hover
      color: color

  &:hover .toolbar
    display: block
  &.selected .toolbar
    display: block

  &.context
    background: hlcolor
    pre, code
      color: dkcolor
    &:hover
      background: darken(hlcolor, 3%)
  &.addition
    background: #C2F5B5
  &.addition:hover
    background: darken(#C2F5B5, 3%)
  &.deletion
    background: #FCD5C7
  &.deletion:hover
    background: darken(#FCD5C7, 3%)

  &.selected, &.highlighted
    background: #FFF090

  &.selected:hover
    background: darken(#FBFFE0, 3%)

  &.highlighted:hover
    background: #FFF090

.CommitView
  .CommentView, .CommentEditor
    border-top: 1px solid lighten(dkcolor, 50%)
  .CommitLine
    margin: 1em 0

.CommentView
  font-size: 85%
  padding: 14px
  .content
    margin-bottom: 0.3em
  .meta
    color: dkcolor
    text-align: right
    font-size: 80%
  .author
    margin-right: 0.5em

.CommentEditor
  position: relative
  button
    margin: 0
    margin-right: 5px
    bottom: 0
    left: 20px
    text-transform: uppercase
    i
      margin-right: 5px
  textarea
    margin: 7px
    margin: 0
    height: 1em
    resize: vertical
    border: none
    font-size: 90%
    box-shadow: none
    background: inherit
    &:focus
      box-shadow: none
      border: none

// BASIC AESTHETIC STYLES (common)

.selectize-control
  display: block
  width: 100%
  border: none
  border-bottom: 1px solid darken(bg, 5%)
  padding: (form-spacing / 2)

  .option, .item, .create
    font-size: 90%
    color: dkcolor
    a
      color: dkcolor
    &:hover, &.active
      background: hlcolor
      color: color
    

.selectize-input, .selectize-control.single .selectize-input.focus {
  cursor: text;
  width: 100%;
}
.selectize-input.dropdown-active::before {
  content: ' ';
  display: block;
  position: absolute;
  height: 1px;
  bottom: 0;
  left: 0;
  right: 0;
}
.selectize-control.multi .selectize-input > div
  cursor: pointer
  margin: 0 5px 5px 0
  padding: 1px 5px
  & *
    white-space: nowrap

.selectize-input > div:last-child {
  margin-right: 5px;
}
.selectize-input > input
  display: inline-block
  margin-right: 2px !important
  height: 20px

.selectize-dropdown {
  background: bg
  margin-top: 15px;
  border-top: 0 none;
}
.selectize-dropdown-content {
  max-height: 200px;
  overflow-y: auto !important;
  overflow-x: hidden !important;
}
.selectize-dropdown [data-selectable],
.selectize-dropdown .optgroup-header {
  padding: 6px 9px;
}
.selectize-dropdown .optgroup:first-child .optgroup-header {
  border-top: 0 none;
}
.selectize-dropdown, .selectize-input, .selectize-input input {
  line-height: 20px;
}

.selectize-control.single .selectize-input::after {
  content: ' ';
  display: block;
  position: absolute;
  top: 50%;
  right: 15px;
  margin-top: -2px;
  width: 0;
  height: 0;
}

.selectize-control.single .selectize-input.dropdown-active::after {
  margin-top: -3px;
}


// LAYOUT STYLES (mandatory)

.selectize-control
  position: relative

.selectize-input
  overflow: hidden
  position: relative
  z-index: 1

  &:after
    content: ' '
    display: block
    clear: left

  & > *
    vertical-align: baseline
    display: inline-block

.selectize-input .item
  display: inline

.selectize-input > input
  max-width: 100% !important
  text-indent: 0 !important
  border: 0 none !important
  background: none !important
  padding: 0 !important
  margin: 0
  &:focus
    background: none !important
    outline: none !important

.selectize-dropdown {
	position: absolute;
	z-index: 2;
}
.selectize-dropdown [data-selectable] {
	cursor: pointer;
	overflow: hidden;
}
.selectize-input, .selectize-dropdown {
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}
